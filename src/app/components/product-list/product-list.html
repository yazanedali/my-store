<div class="product-list-container">
  <div class="header">
    <h1>Our Products</h1>
    <div class="search-section">
      <div class="search-box">
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (input)="searchProducts()"
          placeholder="Search products..."
          class="search-input">
        <button 
          *ngIf="searchTerm" 
          (click)="clearSearch()" 
          class="clear-search-btn">
          Clear
        </button>
      </div>
      <div class="cart-info">
        <a [routerLink]="['/cart']" class="cart-link">
          ðŸ›’ Cart ({{ cartService.getTotalItems() }})
        </a>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="loading">
    <p>Loading products...</p>
  </div>

  <div *ngIf="error && !loading" class="error">
    <p>{{ error }}</p>
    <button (click)="loadProducts()" class="btn btn-primary">Try Again</button>
  </div>

  <div *ngIf="!loading && !error" class="products-grid">
    <div *ngIf="filteredProducts.length === 0" class="no-results">
      <p>No products found matching your search.</p>
      <button (click)="clearSearch()" class="btn btn-primary">Show All Products</button>
    </div>

    <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
    <app-product-card 
      *ngFor="let product of filteredProducts"
      [product]="product"
      [isInCart]="isProductInCart(product.id)"
      [quantityInCart]="getProductQuantity(product.id)"
      (addToCart)="onAddToCart($event)"
      (imageError)="onImageError($event)">
    </app-product-card>
  </div>
</div>